# Тестовое задание на позицию стажера-бекендера

**Микросервис для работы с балансом пользователей.**

## Задача

Необходимо реализовать микросервис для работы с балансом пользователей (зачисление средств, списание средств, перевод средств от пользователя к пользователю, а также метод получения баланса пользователя). Сервис должен предоставлять HTTP API и принимать/отдавать запросы/ответы в формате JSON.

## Установка и Запуск
Для запуска нужно собрать и запустить контейнер

`docker-compose build`

`docker-compose up`

## API
* `GET /balance/:id` - Получение баланса пользователя по id, с возможностью вывода в отличной от рубля валюте, передав её как GET параметр currency


* `POST /balance` - Начислить или списать с баланса пользователя определенное количество средств


* `POST /transfer` - Метод перевода средств от пользователя к пользователю.


* `GET /transactions` - Получение списка транзакций с участием какого-либо пользователя

## Примеры Запросов

`POST http://localhost:8080/balance
{
"id": "user1",
"funds": "10000"
}`

`POST http://localhost:8080/transfer {
"id_from" : "user1",
"id_to" : "user2",
"funds" : "40"
}`

`GET http://localhost:8080/balance/user1?currency=EUR`

`GET http://localhost:8080/transactions {
"user_id": "user1",
"sort": "creation_date",
"order": "ASC",
"page": 1,
"per_page": 10
}`


## Детали

* Для избежания ошибок арифметики чисел с плавающей точкой все записи о балансах хранятся в копейках / центах как целое число. Т.е запись вида `1000` обозначает  `10` рублей
* Метод `GET /balance` возвращает баланс, приведённый к виду рубли.копейки (в выбраной валюте)

## Вопросы по ТЗ и принятые решения
* По умолчанию сервис не содержит в себе никаких данных о балансах (пустая табличка в БД). Данные о балансе появляются при первом зачислении денег.

Изначально таблица с пользователями пустая. Пользователь с id `X` создается при первом запросе `POST /balance {"id": X,
"funds": Y}`, где Y >= 0

Так-же при запросе `POST /transfer {"id_from" : Z, "id_to" : X,
"funds" : Y }`, при условии, что пользователь Z существует 



    
